{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GTL-YIS-009\\\\Desktop\\\\registration-app\\\\src\\\\context\\\\auth.context.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nconst AuthProvider = AuthContext.Provider;\n\nfunction AuthContextProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [user, setUser] = useState(null); // login function\n\n  const authLogin = async (email, password) => {\n    setLoading(true);\n    await fetch(\"/api/users/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(res => res.json()).then(data => {\n      setSuccess(true);\n      setUser(data);\n    }).catch(err => {\n      setError(err);\n    });\n    setLoading(false);\n  }; //signup function\n\n\n  const authRegister = async (username, email, password) => {\n    setLoading(true);\n    await fetch(\"/api/users/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        email,\n        password\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      setSuccess(true);\n      setUser(data);\n    }).catch(err => {\n      console.log(err);\n      setError(err);\n    });\n    setLoading(false);\n  }; //logout function\n\n\n  const authLogout = () => {\n    setSuccess(false);\n    setUser(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    value: {\n      success,\n      error,\n      loading,\n      user,\n      authLogin,\n      authRegister,\n      authLogout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AuthContextProvider, \"if5LN4bjEL6D0iNcWkHIwh6g+fY=\");\n\n_c = AuthContextProvider;\nexport { AuthContext, AuthContextProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["createContext","useState","AuthContext","AuthProvider","Provider","AuthContextProvider","children","success","setSuccess","error","setError","loading","setLoading","user","setUser","authLogin","email","password","fetch","method","headers","body","JSON","stringify","then","res","json","data","catch","err","authRegister","username","console","log","authLogout"],"sources":["C:/Users/GTL-YIS-009/Desktop/registration-app/src/context/auth.context.js"],"sourcesContent":["import { createContext, useState } from \"react\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = AuthContext.Provider;\n\nfunction AuthContextProvider({ children }) {\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [user, setUser] = useState(null);\n\n  // login function\n  const authLogin = async (email, password) => {\n    setLoading(true);\n    await fetch(\"/api/users/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setSuccess(true);\n        setUser(data);\n      })\n      .catch((err) => {\n        setError(err);\n      });\n    setLoading(false);\n  };\n\n  //signup function\n  const authRegister = async (username, email, password) => {\n    setLoading(true);\n    await fetch(\"/api/users/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        username,\n        email,\n        password,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setSuccess(true);\n        setUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n        setError(err);\n      });\n    setLoading(false);\n  };\n\n  //logout function\n  const authLogout = () => {\n    setSuccess(false);\n    setUser(null);\n  };\n\n  return (\n    <AuthProvider\n      value={{\n        success,\n        error,\n        loading,\n        user,\n        authLogin,\n        authRegister,\n        authLogout,\n      }}\n    >\n      {children}\n    </AuthProvider>\n  );\n}\n\nexport { AuthContext, AuthContextProvider };\n"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,OAAxC;;AAEA,MAAMC,WAAW,gBAAGF,aAAa,EAAjC;AAEA,MAAMG,YAAY,GAAGD,WAAW,CAACE,QAAjC;;AAEA,SAASC,mBAAT,OAA2C;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EACzC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC,CAJyC,CAMzC;;EACA,MAAMc,SAAS,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;IAC3CL,UAAU,CAAC,IAAD,CAAV;IACA,MAAMM,KAAK,CAAC,kBAAD,EAAqB;MAC9BC,MAAM,EAAE,MADsB;MAE9BC,OAAO,EAAE;QACP,gBAAgB;MADT,CAFqB;MAK9BC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnBP,KADmB;QAEnBC;MAFmB,CAAf;IALwB,CAArB,CAAL,CAUHO,IAVG,CAUGC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAVX,EAWHF,IAXG,CAWGG,IAAD,IAAU;MACdnB,UAAU,CAAC,IAAD,CAAV;MACAM,OAAO,CAACa,IAAD,CAAP;IACD,CAdG,EAeHC,KAfG,CAeIC,GAAD,IAAS;MACdnB,QAAQ,CAACmB,GAAD,CAAR;IACD,CAjBG,CAAN;IAkBAjB,UAAU,CAAC,KAAD,CAAV;EACD,CArBD,CAPyC,CA8BzC;;;EACA,MAAMkB,YAAY,GAAG,OAAOC,QAAP,EAAiBf,KAAjB,EAAwBC,QAAxB,KAAqC;IACxDL,UAAU,CAAC,IAAD,CAAV;IACA,MAAMM,KAAK,CAAC,qBAAD,EAAwB;MACjCC,MAAM,EAAE,MADyB;MAEjCC,OAAO,EAAE;QACP,gBAAgB;MADT,CAFwB;MAKjCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnBQ,QADmB;QAEnBf,KAFmB;QAGnBC;MAHmB,CAAf;IAL2B,CAAxB,CAAL,CAWHO,IAXG,CAWGC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAXX,EAYHF,IAZG,CAYGG,IAAD,IAAU;MACdK,OAAO,CAACC,GAAR,CAAYN,IAAZ;MACAnB,UAAU,CAAC,IAAD,CAAV;MACAM,OAAO,CAACa,IAAD,CAAP;IACD,CAhBG,EAiBHC,KAjBG,CAiBIC,GAAD,IAAS;MACdG,OAAO,CAACC,GAAR,CAAYJ,GAAZ;MACAnB,QAAQ,CAACmB,GAAD,CAAR;IACD,CApBG,CAAN;IAqBAjB,UAAU,CAAC,KAAD,CAAV;EACD,CAxBD,CA/ByC,CAyDzC;;;EACA,MAAMsB,UAAU,GAAG,MAAM;IACvB1B,UAAU,CAAC,KAAD,CAAV;IACAM,OAAO,CAAC,IAAD,CAAP;EACD,CAHD;;EAKA,oBACE,QAAC,YAAD;IACE,KAAK,EAAE;MACLP,OADK;MAELE,KAFK;MAGLE,OAHK;MAILE,IAJK;MAKLE,SALK;MAMLe,YANK;MAOLI;IAPK,CADT;IAAA,UAWG5B;EAXH;IAAA;IAAA;IAAA;EAAA,QADF;AAeD;;GA9EQD,mB;;KAAAA,mB;AAgFT,SAASH,WAAT,EAAsBG,mBAAtB"},"metadata":{},"sourceType":"module"}